<ng-container *ngIf="targetAssets$ | async as targetAssets; else loading" >

    <div class="filter-stats">
        <div class="search">
            <label>Search : </label>
            <input nz-input type="text" placeholder="Filter by name or status" [(ngModel)]="searchText" (ngModelChange)="onSearchTermChange($event)" />
        </div>

        <app-target-asset-statistics [targetAssets]="targetAssets"></app-target-asset-statistics>


    </div>

    <div class="target-List">
        <div *ngIf="targetAssets.length === 0">No results found.</div>

        <div *ngFor="let targetAsset of targetAssets">
            <nz-card [nzTitle]="targetAsset.name"
                     class="asset-status {{ targetAssetStatus[targetAsset.status] }}">
                <div class="card-grid">
                    <div *ngFor="let assetDetail of listAssetDetails">
                        <div>
                            <span nz-icon [nzType]="assetDetail.iconText" nzTheme="outline"></span>
                            <label class="margin-left">{{assetDetail.title}}</label>
                        </div>

                        <span *ngIf="assetDetail.key !== 'ram'"> {{targetAsset[assetDetail.key ]}}</span>
                        <span *ngIf="assetDetail.key === 'ram'"> {{ targetAsset[assetDetail.key ] / (1024*1024*1024) | number:'1.2-2' }} GB</span>

                    </div>
                    <button nz-button nzType="link">
                        More Details
                        <span nz-icon nzType="right"></span>
                    </button>
                </div>
            </nz-card>
        </div>
    </div>

</ng-container>
<ng-template #loading>Loading target assets...</ng-template>